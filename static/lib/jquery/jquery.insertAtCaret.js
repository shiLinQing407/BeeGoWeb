(function(d){d.fn.extend({insertAtCaret:function(b){var a=d(this)[0];if(document.selection)this.focus(),sel=document.selection.createRange(),sel.text=b,this.focus();else if(a.selectionStart||"0"==a.selectionStart){var c=a.selectionStart,e=a.selectionEnd,f=a.scrollTop;a.value=a.value.substring(0,c)+b+a.value.substring(e,a.value.length);this.focus();a.selectionStart=c+b.length;a.selectionEnd=c+b.length;a.scrollTop=f}else this.value+=b,this.focus()}})})(jQuery);